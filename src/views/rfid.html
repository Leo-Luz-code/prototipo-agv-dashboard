<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerenciamento RFID - AGV</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/rfid-page.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <!-- Drawer toggle (hamburger) -->
      <button
        id="drawer-toggle"
        class="drawer-toggle"
        aria-label="Abrir menu"
        aria-expanded="false"
      >
        ☰
      </button>
      <h1>Gerenciamento RFID - AGV 01</h1>
    </header>

    <!-- LATERAL DRAWER (esquerda) -->
    <nav
      id="left-drawer"
      class="left-drawer"
      role="navigation"
      aria-hidden="true"
    >
      <div class="drawer-header">
        <h3>Menu</h3>
        <button id="drawer-close" class="drawer-close" aria-label="Fechar menu">
          ✕
        </button>
      </div>
      <ul class="drawer-list">
        <li>
          <a href="/index.html" class="drawer-link">🎛️ Dashboard</a>
        </li>
        <li>
          <a href="/sensors.html" class="drawer-link">📏 Sensores</a>
        </li>
        <li>
          <a href="/rfid.html" class="drawer-link">📡 RFID</a>
        </li>
      </ul>
    </nav>
    <div
      id="drawer-overlay"
      class="drawer-overlay"
      tabindex="-1"
      aria-hidden="true"
    ></div>

    <main class="dashboard-container rfid-page">
      <!-- CARD CONSOLIDADO DE RFID -->
      <div id="rfid-card" class="info-card rfid-main-card">
        <h3>📡 Sistema RFID</h3>

        <!-- Seção 1: Leitura Atual -->
        <div class="rfid-section">
          <div class="rfid-section-header">
            <span class="rfid-section-icon">🏷️</span>
            <h4>Leitura Atual</h4>
          </div>
          <div class="rfid-current-reading">
            <div class="rfid-reading-item">
              <span class="rfid-reading-label">Tag ID:</span>
              <div class="rfid-reading-value-wrapper">
                <p id="rfid-data" class="rfid-reading-value">Nenhuma</p>
                <button
                  id="btn-copy-tag-to-register"
                  class="btn-copy-tag"
                  title="Copiar para cadastro"
                >
                  →
                </button>
              </div>
            </div>
            <div class="rfid-reading-item">
              <span class="rfid-reading-label">Item:</span>
              <p
                id="rfid-item-name"
                class="rfid-reading-value rfid-item-name-display"
              >
                Aguardando leitura...
              </p>
            </div>
            <div class="rfid-reading-item">
              <button id="btn-clear-cargo" class="btn btn-clear-cargo">
                🚫 Marcar como Sem Carga
              </button>
            </div>
          </div>
        </div>

        <div class="rfid-divider"></div>

        <!-- Seção 2: Cadastro de Tags -->
        <div class="rfid-section">
          <div class="rfid-section-header">
            <span class="rfid-section-icon">➕</span>
            <h4>Cadastrar Nova Tag</h4>
          </div>
          <div class="rfid-form">
            <input
              type="text"
              id="input-tag-id"
              placeholder="ID da Tag (ex: 91B657A4)"
              class="rfid-input"
            />
            <input
              type="text"
              id="input-item-name"
              placeholder="Nome do Item"
              class="rfid-input"
            />
            <button id="btn-register-tag" class="btn btn-primary btn-small">
              📥 Cadastrar Tag
            </button>
          </div>
        </div>

        <div class="rfid-divider"></div>

        <!-- Seção 3: Lista de Tags Cadastradas -->
        <div class="rfid-section">
          <div class="rfid-section-header">
            <span class="rfid-section-icon">📋</span>
            <h4>Tags Cadastradas</h4>
          </div>
          <div class="rfid-list-container">
            <div id="rfid-list" class="rfid-list">
              <p class="rfid-list-empty">Nenhum item cadastrado</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="/socket.io/socket.io.js"></script>
    <script src="js/drawer.js"></script>
    <script src="js/rfidManager.js"></script>
  </body>
</html>
